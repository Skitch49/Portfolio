<div @transition class="wrapper-jeux-video">
  <div class="container-jeux-video">
    <div class="card">
      <div class="container-img">
        <img class="img-jeu" src="../../../assets/images/gta-5.jpg" />
        <img
          class="logo-jeu"
          src="../../../assets/images/gta-5-logo.png"
          alt="GTA 5"
        />
      </div>
      <div class="container-paragraphe">
        <h3>Liberté</h3>
        <p class="para-jeu">
          Dans GTA 5, le sentiment de liberté est palpitant et libérateur. En
          parcourant les rues animées de Los Santos, je suis libre de choisir ma
          propre aventure. Je peux me promener à pied, conduire une super
          voiture ou prendre un jet pour survoler la ville. Les possibilités
          sont infinies : des braquages audacieux aux courses endiablées, en
          passant par des activités plus calmes comme le golf ou le tennis. La
          ville regorge de secrets à découvrir, d'endroits à explorer et de
          personnages hauts en couleur à rencontrer. Faisant de GTA 5 un monde
          ouvert où la liberté est maître. A noter qu'il est le produit
          culturelle le plus rentable de l'histoire dépassant films, séries,
          musiques etc...
        </p>
      </div>
    </div>
    <div class="card">
      <div class="container-img">
        <img class="img-jeu" src="../../../assets/images/outer-wilds.png" />
        <img
          class="logo-jeu"
          src="../../../assets/images/outer-wilds-logo.png"
          alt="Outer Wilds"
        />
      </div>
      <div class="container-paragraphe">
        <h3>Exploration</h3>
        <p class="para-jeu">
          Dans ce jeu d'aventure et de mystère, les joueurs incarnent un
          astronaute explorant un système solaire en constante évolution. Chaque
          boucle temporelle, d'une durée de 22 minutes, offre une opportunité de
          découvrir les secrets d'une civilisation éteinte et de percer les
          mystères du cosmos. Le sentiment d'exploration est profondément
          ressenti, alors que l'on découvre des paysages époustouflants, des
          ruines antiques et des indices disséminés à travers l'univers. Chaque
          découverte est une récompense en soi, alimentant la soif de
          connaissance et de compréhension de l'inconnu. Outer Wilds offre une
          expérience de jeu unique, où l'exploration est le moteur de
          l'aventure.
        </p>
      </div>
    </div>
    <div class="card">
      <div class="container-img">
        <img
          class="img-jeu"
          src="../../../assets/images/cyberpunk-background.jpeg"
        />
        <img
          class="logo-jeu"
          src="../../../assets/images/cyberpunk-logo.png"
          alt="Cyberpunk 2077"
        />
      </div>
      <div class="container-paragraphe">
        <h3>Narration</h3>
        <p class="para-jeu">
          Cyberpunk 2077 se distingue par son histoire immersive et complexe,
          centrée sur V, un mercenaire dans une mégalopole dystopique. Le jeu
          explore des thèmes profonds comme l'identité, la technologie et le
          pouvoir. Les personnages sont riches et nuancés, et les quêtes
          secondaires sont aussi captivantes que la trame principale. Avec un
          monde ouvert détaillé, des choix significatifs, et des ramifications
          multiples, Cyberpunk 2077 offre une expérience narrative de haute
          qualité, marquée par des dilemmes moraux et des intrigues captivantes.
        </p>
      </div>
    </div>
    <div class="card">
      <div class="container-img">
        <img class="img-jeu" src="../../../assets/images/cities-skylines.jpg" />
        <img
          class="logo-jeu"
          src="../../../assets/images/cities-skylines-logo.png"
          alt="Cities Skylines"
        />
      </div>
      <div class="container-paragraphe">
        <h3>Gestion</h3>
        <p class="para-jeu">
          Dans Cities: Skylines, l'aspect gestion est au cœur de l'expérience de
          jeu. Les joueurs sont responsables de la construction et de la gestion
          d'une ville prospère. Chaque décision a un impact direct sur le
          développement de la ville. Les joueurs doivent gérer les finances de
          manière stratégique, surveiller la satisfaction des habitants et faire
          face à divers défis tels que le trafic, la pollution et les
          catastrophes naturelles. Ce jeu offre une expérience immersive où
          chaque choix compte, et où la satisfaction de voir une ville prospérer
          grâce à une gestion efficace est gratifiante.
        </p>
      </div>
    </div>
  </div>
</div>
<div class="game" [ngStyle]="{ display: this.isLarge ? 'flex' : 'none' }">
  <h1>Pixel War</h1>

  <div class="wrapper-game">
    <div id="cursor" #cursor></div>
    <canvas
      #game
      (click)="clickOnCanvas()"
      (mousemove)="moveCanvas($event)"
      
    ></canvas>
  </div>
  <div class="colors-choice">
    <div
      *ngFor="let color of colorList"
      [ngStyle]="{
        backgroundColor: color,
        border: color == '#FFF' ? '1px solid #CCC' : 'none'
      }"
      [ngClass]="{  'active': currentColorChoice == color,}"
      (click)="changeColorChoice(color)"
    ></div>
  </div>
</div>
<div class="steam-container">
  <div class="container-steam" *ngIf="userInfo">
    <div class="wrapper-steam">
      <div
        class="steam"
        [ngStyle]="{
          padding: userInfo.gameid ? '1rem 0rem 0rem 1rem' : '1rem'
        }"
      >
        <h1 class="steam-title" *ngIf="!userInfo.gameid">Mon profil Steam</h1>
        <h1
          class="steam-title"
          *ngIf="userInfo.gameid"
          style="border-bottom: 1px solid black"
        >
          Regarde a quoi je joue actuellement !
        </h1>
        <div class="player">
          <a
            href="{{ userInfo.profileurl }}"
            target="_blank"
            class="picture-player"
          >
            <img
              src="{{ userInfo.avatarfull }}"
              alt="{{ userInfo.personaname }}"
            />
          </a>
          <div class="player-info">
            <div class="player-info-top">
              <h2 class="player-name">
                <a
                  href="{{ userInfo.profileurl }}"
                  target="_blank"
                  class="picture-game"
                  >{{ userInfo.personaname }}</a
                >
              </h2>
              <div
                class="player-state"
                [ngStyle]="{
                  backgroundColor:
                    userInfo.personastate === 1
                      ? '#23e123'
                      : userInfo.personastate === 2
                      ? 'rgb(223 36 22);'
                      : userInfo.personastate === 3
                      ? 'rgb(255 149 46)'
                      : 'rgb(68, 68, 68)'
                }"
              >
                <div class="tooltip" [ngSwitch]="userInfo.personastate">
                  <p *ngSwitchCase="1">En ligne</p>
                  <p *ngSwitchCase="2">Occupé</p>
                  <p *ngSwitchCase="3">Absent</p>
                  <p *ngSwitchDefault>Hors ligne</p>
                </div>
              </div>
            </div>
            <div class="player-info-bottom" *ngIf="userInfo.gameid">
              <h3 class="game-name">
                {{ userInfo.gameextrainfo }}
              </h3>
            </div>
          </div>
          <a
            class="current-game"
            [href]="'https://store.steampowered.com/app/' + userInfo.gameid"
            target="_blank"
            *ngIf="userInfo.gameid"
          >
            <img
              [src]="
                'https://cdn.akamai.steamstatic.com/steam/apps/' +
                userInfo.gameid +
                '/header.jpg'
              "
              (error)="onImageError($event)"
            />
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="all-game-steam">
  <form [formGroup]="formSteamGames">
    <p>
      Total de jeux Steam : <b>{{ allGames.games.length }}</b>
    </p>
    <label for="limit">
      Trié par :
      <select id="limit" formControlName="sort">
        <option value="maxPlaytime" selected>Le + de temps de jeu</option>
        <option value="lessPlaytime">Le - de temps de jeu</option>
        <option value="launchRecently">lancée récemment</option>
        <option value="launchNotRecently">Lancée il y a longtemps</option>
      </select>
    </label>
    <label
      >Limite :
      <input
        type="number"
        min="1"
        [max]="allGames.games.length"
        formControlName="limit"
      />
    </label>
  </form>
  <div class="wrapper-game-card">
    <div class="game-card" *ngFor="let game of displayGames">
      <a
        [href]="'https://store.steampowered.com/app/' + game.appid"
        target="_blank"
        class="game-card-link"
      >
        <img
          [src]="
            'https://cdn.akamai.steamstatic.com/steam/apps/' +
            game.appid +
            '/header.jpg'
          "
          (error)="onImageError($event)"
        />
      </a>
      <div
        class="info-game"
        *ngIf="game.playtime_forever || game.rtime_last_played"
      >
        <div class="wrapper-info-game" *ngIf="game.playtime_forever">
          <p class="info">Temps de jeu total :</p>
          <p class="number">{{ game.playtime_forever | minuteToHour }}</p>
        </div>
        <div class="wrapper-info-game" *ngIf="game.rtime_last_played">
          <p class="info">Dernier lancement :</p>
          <p class="number">
            <!-- {{ game.rtime_last_played * 1000 | date : "dd MMMM yyyy" }} -->
            {{ formatDate(game.rtime_last_played) }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
